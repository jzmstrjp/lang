# UX駆動開発 TODO

## 1. 準備

- [ ] `docs/user-story.md`と`docs/tech.md`の前提を最新版に同期（トップ画面の導線確認）
- [ ] 開発で使うモックデータの項目（Problem型）とサンプル値を整理
- [ ] UI検証で使う仮画像・仮音声ファイルを`public/`配下に配置
- [ ] `.env.local`の雛形を用意し、実サービス接続値はすべてコメントにしておく
- [ ] コード整形は `npm run format`／`npm run format:check` で実行

## 2. UXプロトタイプ（モックバックエンド）

- [ ] App Router構成でページ骨格を作成（`src/app/layout.tsx`、`src/app/page.tsx`）
- [ ] トップページに「はじめる」「短文」「中文」「長文」導線を配置
- [ ] `/problems/[length]/scene` → `/quiz` → `/result`のルーティングと戻る動線を設計
- [ ] モックAPI（`src/app/api/mock-problem/route.ts`など）を用意し、型付きJSONを返す
- [ ] フロント側でSWRまたは`useEffect`を用いたフェッチ＋ローディングUIを実装
- [ ] シーン表示画面に画像プレースホルダーと英語音声プレーヤーを配置（自動再生のUI確認）
- [ ] 返答シーン（日本語音声）と解答4択UIを組み込み、選択状態を管理
- [ ] 結果画面で正誤メッセージ／再生ボタン／「次の問題へ」を表示し、モックAPI再取得で遷移
- [ ] 表示コピー（ボタン文言・解説テキスト）を日本語で仮置きし、ユーザーストーリーに沿って調整
- [ ] グローバルスタイル（フォント、配色、レスポンシブ）を整え、主要デバイス幅で崩れないことを確認

## 3. UX検証と改善

- [ ] 主要ブラウザ（Chrome/Safari/Firefox）で自動再生許可までのタップ挙動を実地確認
- [ ] 音声が無効な環境向けのフォールバック表示（テキスト説明）を検討
- [ ] フィードバック時の遷移スピード・アニメーションをレビューし、ストレスがないか調整
- [ ] 1問完了までの所要時間・操作ステップを計測し、ユーザーストーリーと差異がないかチェック
- [ ] 改善要望・気付き事項を`docs/tech.md`の該当章に反映

## 4. 次フェーズへのブリッジ

- [ ] 実バックエンド実装のためのタスク分解（API、DB、生成フロー）を洗い出し
- [ ] モックAPIと本番APIの切り替え方式を決め、Feature Flagや環境変数で制御できるよう設計
- [ ] UXプロトタイプで見えたデータ要件をPrismaスキーマに反映する下書きを作成
- [ ] トラッキングイベントの採番と送信ポイントを整理し、計測基盤導入時に迷わないようにする
